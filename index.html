<!doctype HTML>
<html>
<script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
<script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.7.5/aframe/build/aframe-ar.js"></script>
<script>
                       
            // Invitation Video Handler
            
            AFRAME.registerComponent('video-vidhandler', {
                init: function() {
		    console.log('video init entered');
                    this.toggle = false;
                    this.vid = document.querySelector("#syn");
                    this.vid.pause();
                },
                tick: function() {
                    if (this.el.object3D.visible == true) {
                        if (!this.toggle) {
                            this.toggle = true;
                            this.vid.play();
                        }
                    } else {
                        this.toggle = false;
                        this.vid.pause();
                    }
                }
            });
</script>

  <body style='margin : 0px; overflow: hidden;'>
    <a-scene embedded arjs='debugUIEnabled: false;'>
      <a-assets>
          <video id="syn" autoplay loop ="true" crossorigin webkit-playsinline playsinline>
            <source src="STFC.mp4">
          </video>
      </a-assets>
      
      	
      <a-marker preset="custom" type="pattern" url="/pattern/banana.patt" video-vidhandler>
	  <a-video src="#syn" width="4" height="2.5" rotation="-90 0 0" position="0 1 -1"></a-video>
	  
      </a-marker>

      <a-entity camera></a-entity>
    </a-scene>
  </body>
</html>
